%TMPL:INCLUDE{"view"}%

%ADDTOZONE{"script" requires="SEARCHGRID" text="<script class='script' type='text/javascript' src='%PUBURLPATH%/%SYSTEMWEB%/UnifiedAuthContrib/js/userAdministration.js'></script>"}%

%{<verbatim>}%
%TMPL:DEF{"content"}%
<div class="flatskin-wrapped">
%TABPANE{class="flat"}%
%TAB{"%MAKETEXT{"Users"}%"}%
<p>%MAKETEXT{"This site presents an overview of all currently available users in the Wiki. Deactivated users may also be shown."}%<p>
<strong>%MAKETEXT{"Current number of active users:"}% %TOTALUSERS{"1"}%</strong>
<p id="userRegistration"><button v-on:click="openUserRegistration" class="primary button">%MAKETEXT{"Create new user"}%</button></p>
%SEARCHGRID{
  "type:ua_user !mainprovidername_s:__*"
  headers="Name,Source systems,Email address,Status"
  sortFields="none,none,none,none"
  fields="text-field(displayname_s),badges-field(providers_lst),text-field(email_s),status-field(deactivated_i)"
  filters="full-text-filter(Name or email address,displayname_search, email_search)"
  facets="multi-select-facet(Source systems,mainprovidername_s),multi-select-facet(Status,deactivated_i)"
  resultsPerPage="25"
  initialSort="displayname_sort,asc"
  mappings_deactivated_i="0=%MAKETEXT{"Active"}%;1=%MAKETEXT{"Deactivated"}%"
  addons="user-selector"
}%
%ENDTAB%
%ENDTABPANE%
</div>
%TMPL:END%
%{</verbatim>}%
